<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/SVG"],
});
</script>
<script src="MathJax/MathJax.js"></script>
<!-- To use the latest MathJax version instead, you can use: -->
<!--<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>-->
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
</head><body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a01580.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="a01577.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Reference CoM position and velocity trajectory generation.  
 <a href="a01580.html#details">More...</a></p>

<p><code>#include &lt;mc_planning/LinearTimeVariantInvertedPendulum.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01584.html">State</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generated CoM/ZMP state.  <a href="a01584.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9ff8694223841eb44de2058bdc8e07be"><td class="memItemLeft" align="right" valign="top">EIGEN_MAKE_ALIGNED_OPERATOR_NEW&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a9ff8694223841eb44de2058bdc8e07be">LinearTimeVariantInvertedPendulum</a> ()</td></tr>
<tr class="separator:a9ff8694223841eb44de2058bdc8e07be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a047d06a6a02227dab3c0778c4ec738"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a4a047d06a6a02227dab3c0778c4ec738">LinearTimeVariantInvertedPendulum</a> (double dt, unsigned n_preview=0, unsigned weight_resolution=20000, double minHeight=0.01, double maxHeight=2.5)</td></tr>
<tr class="memdesc:a4a047d06a6a02227dab3c0778c4ec738"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization.  <a href="#a4a047d06a6a02227dab3c0778c4ec738">More...</a><br /></td></tr>
<tr class="separator:a4a047d06a6a02227dab3c0778c4ec738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45a506558787353a67a900c6518f894c"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a45a506558787353a67a900c6518f894c">~LinearTimeVariantInvertedPendulum</a> ()</td></tr>
<tr class="separator:a45a506558787353a67a900c6518f894c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e8f7c6aea4f0ad0627cad4598d1de85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a3e8f7c6aea4f0ad0627cad4598d1de85">Initialize</a> (double dt, unsigned n_preview=0, unsigned weight_resolution=20000, double minHeight=0.01, double maxHeight=2.5)</td></tr>
<tr class="separator:a3e8f7c6aea4f0ad0627cad4598d1de85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47aa3c6c55b0d2e3452175ad1127c460"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a47aa3c6c55b0d2e3452175ad1127c460">initMatrices</a> (double waist_height)</td></tr>
<tr class="memdesc:a47aa3c6c55b0d2e3452175ad1127c460"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the discretized system matrices with constant pendulum height Pre-computed table from .  <a href="#a47aa3c6c55b0d2e3452175ad1127c460">More...</a><br /></td></tr>
<tr class="separator:a47aa3c6c55b0d2e3452175ad1127c460"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d2fc8bd8439d82b712f56fd0e1848c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a5d2fc8bd8439d82b712f56fd0e1848c6">update</a> ()</td></tr>
<tr class="memdesc:a5d2fc8bd8439d82b712f56fd0e1848c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the reference CoM state online (position and velocity)  <a href="#a5d2fc8bd8439d82b712f56fd0e1848c6">More...</a><br /></td></tr>
<tr class="separator:a5d2fc8bd8439d82b712f56fd0e1848c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab84d807b96e903d5be87c6042c265979"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01584.html">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#ab84d807b96e903d5be87c6042c265979">getState</a> (int n_time) const</td></tr>
<tr class="memdesc:ab84d807b96e903d5be87c6042c265979"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get generated CoG/ZMP states.  <a href="#ab84d807b96e903d5be87c6042c265979">More...</a><br /></td></tr>
<tr class="separator:ab84d807b96e903d5be87c6042c265979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac90eeaee06cf9c343222eb7eb8b6a43a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#ac90eeaee06cf9c343222eb7eb8b6a43a">getState</a> (int n_time, double &amp;cog_pos, double &amp;cog_vel, double &amp;cog_acc, double &amp;p, double &amp;pdot)</td></tr>
<tr class="memdesc:ac90eeaee06cf9c343222eb7eb8b6a43a"><td class="mdescLeft">&#160;</td><td class="mdescRight">to get generated CoG/ZMP states  <a href="#ac90eeaee06cf9c343222eb7eb8b6a43a">More...</a><br /></td></tr>
<tr class="separator:ac90eeaee06cf9c343222eb7eb8b6a43a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d3ebd9ea8d67d62d539e1452d4506ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a5d3ebd9ea8d67d62d539e1452d4506ab">generate</a> (Eigen::VectorXd &amp;cog_pos, Eigen::VectorXd &amp;cog_vel, Eigen::VectorXd &amp;cog_acc, Eigen::VectorXd &amp;<a class="el" href="a01580.html#aaaa9229d0d48a4ce5b3298da9199d4bb">p_ref</a>)</td></tr>
<tr class="memdesc:a5d3ebd9ea8d67d62d539e1452d4506ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate full trajectory (only used for tests)  <a href="#a5d3ebd9ea8d67d62d539e1452d4506ab">More...</a><br /></td></tr>
<tr class="separator:a5d3ebd9ea8d67d62d539e1452d4506ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaa9229d0d48a4ce5b3298da9199d4bb"><td class="memItemLeft" align="right" valign="top">Eigen::VectorXd &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#aaaa9229d0d48a4ce5b3298da9199d4bb">p_ref</a> ()</td></tr>
<tr class="memdesc:aaaa9229d0d48a4ce5b3298da9199d4bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference CMP along the trajectory \( [u_0..u_M] \).  <a href="#aaaa9229d0d48a4ce5b3298da9199d4bb">More...</a><br /></td></tr>
<tr class="separator:aaaa9229d0d48a4ce5b3298da9199d4bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a805b02627f193b596d43c6de3420d196"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a805b02627f193b596d43c6de3420d196">p_ref</a> (unsigned k)</td></tr>
<tr class="memdesc:a805b02627f193b596d43c6de3420d196"><td class="mdescLeft">&#160;</td><td class="mdescRight">Value of \( u_k \).  <a href="#a805b02627f193b596d43c6de3420d196">More...</a><br /></td></tr>
<tr class="separator:a805b02627f193b596d43c6de3420d196"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e54cb2b655774f117c7a35ce65424a"><td class="memItemLeft" align="right" valign="top">Eigen::VectorXd &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a32e54cb2b655774f117c7a35ce65424a">w2</a> ()</td></tr>
<tr class="memdesc:a32e54cb2b655774f117c7a35ce65424a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Squared values of \( \omega_k \) along the preview time: \( [\omega_0^2 ... \omega_M^2] \).  <a href="#a32e54cb2b655774f117c7a35ce65424a">More...</a><br /></td></tr>
<tr class="separator:a32e54cb2b655774f117c7a35ce65424a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74e38a54de2bb643ff4b0eb1caee9326"><td class="memItemLeft" align="right" valign="top">double &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a74e38a54de2bb643ff4b0eb1caee9326">w2</a> (unsigned k)</td></tr>
<tr class="memdesc:a74e38a54de2bb643ff4b0eb1caee9326"><td class="mdescLeft">&#160;</td><td class="mdescRight">Value of \( \omega_k^2 \).  <a href="#a74e38a54de2bb643ff4b0eb1caee9326">More...</a><br /></td></tr>
<tr class="separator:a74e38a54de2bb643ff4b0eb1caee9326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1deee5bc5016ab978874dd423968c39"><td class="memItemLeft" align="right" valign="top">const Eigen::VectorXd &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#ae1deee5bc5016ab978874dd423968c39">w</a> () const</td></tr>
<tr class="separator:ae1deee5bc5016ab978874dd423968c39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aefe020440bec23336b24e632a0830f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a4aefe020440bec23336b24e632a0830f">w</a> (unsigned k) const</td></tr>
<tr class="memdesc:a4aefe020440bec23336b24e632a0830f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Value of \( \omega_k \).  <a href="#a4aefe020440bec23336b24e632a0830f">More...</a><br /></td></tr>
<tr class="separator:a4aefe020440bec23336b24e632a0830f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:af8f721030036eaf37bda9d2116f0a08d"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#af8f721030036eaf37bda9d2116f0a08d">Matrix22</a> = Eigen::Matrix&lt; double, 2, 2 &gt;</td></tr>
<tr class="separator:af8f721030036eaf37bda9d2116f0a08d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f685436fab11fa264d9444a25b4fdcf"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a3f685436fab11fa264d9444a25b4fdcf">Vector2</a> = Eigen::Matrix&lt; double, 2, 1 &gt;</td></tr>
<tr class="separator:a3f685436fab11fa264d9444a25b4fdcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a0d7d6b065bfa69d029309b718d985ee2"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a0d7d6b065bfa69d029309b718d985ee2">m_dt</a></td></tr>
<tr class="memdesc:a0d7d6b065bfa69d029309b718d985ee2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timstep.  <a href="#a0d7d6b065bfa69d029309b718d985ee2">More...</a><br /></td></tr>
<tr class="separator:a0d7d6b065bfa69d029309b718d985ee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d895679ff0471b72e15524364322a40"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a2d895679ff0471b72e15524364322a40">m_n_current</a></td></tr>
<tr class="memdesc:a2d895679ff0471b72e15524364322a40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Index of current time (center of the preview window)  <a href="#a2d895679ff0471b72e15524364322a40">More...</a><br /></td></tr>
<tr class="separator:a2d895679ff0471b72e15524364322a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad727890e6903bf8c6aab5873a6afb17c"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#ad727890e6903bf8c6aab5873a6afb17c">m_n_preview2</a></td></tr>
<tr class="memdesc:ad727890e6903bf8c6aab5873a6afb17c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preview window size \( (2*\mbox{m_n_current})+1 \).  <a href="#ad727890e6903bf8c6aab5873a6afb17c">More...</a><br /></td></tr>
<tr class="separator:ad727890e6903bf8c6aab5873a6afb17c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b01bb5cafce26b7596ef97b36584233"><td class="memItemLeft" align="right" valign="top">boost::circular_buffer&lt; <a class="el" href="a01580.html#af8f721030036eaf37bda9d2116f0a08d">Matrix22</a>, Eigen::aligned_allocator&lt; <a class="el" href="a01580.html#af8f721030036eaf37bda9d2116f0a08d">Matrix22</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a2b01bb5cafce26b7596ef97b36584233">m_A</a></td></tr>
<tr class="memdesc:a2b01bb5cafce26b7596ef97b36584233"><td class="mdescLeft">&#160;</td><td class="mdescRight">\( A_k \)  <a href="#a2b01bb5cafce26b7596ef97b36584233">More...</a><br /></td></tr>
<tr class="separator:a2b01bb5cafce26b7596ef97b36584233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8121e1be72344e73db0512b7331a321"><td class="memItemLeft" align="right" valign="top">boost::circular_buffer&lt; <a class="el" href="a01580.html#a3f685436fab11fa264d9444a25b4fdcf">Vector2</a>, Eigen::aligned_allocator&lt; <a class="el" href="a01580.html#a3f685436fab11fa264d9444a25b4fdcf">Vector2</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#ac8121e1be72344e73db0512b7331a321">m_B</a></td></tr>
<tr class="memdesc:ac8121e1be72344e73db0512b7331a321"><td class="mdescLeft">&#160;</td><td class="mdescRight">\( B_k \)  <a href="#ac8121e1be72344e73db0512b7331a321">More...</a><br /></td></tr>
<tr class="separator:ac8121e1be72344e73db0512b7331a321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9ea04485d7ee4ce45999a165c2dee06"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="a01580.html#af8f721030036eaf37bda9d2116f0a08d">Matrix22</a>, Eigen::aligned_allocator&lt; <a class="el" href="a01580.html#af8f721030036eaf37bda9d2116f0a08d">Matrix22</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#ac9ea04485d7ee4ce45999a165c2dee06">m_An</a></td></tr>
<tr class="memdesc:ac9ea04485d7ee4ce45999a165c2dee06"><td class="mdescLeft">&#160;</td><td class="mdescRight">\( \Phi(k, j) \)  <a href="#ac9ea04485d7ee4ce45999a165c2dee06">More...</a><br /></td></tr>
<tr class="separator:ac9ea04485d7ee4ce45999a165c2dee06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60ecd7d928ffc1ce55390aa33d076577"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="a01580.html#a3f685436fab11fa264d9444a25b4fdcf">Vector2</a>, Eigen::aligned_allocator&lt; <a class="el" href="a01580.html#a3f685436fab11fa264d9444a25b4fdcf">Vector2</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a60ecd7d928ffc1ce55390aa33d076577">m_Bn</a></td></tr>
<tr class="memdesc:a60ecd7d928ffc1ce55390aa33d076577"><td class="mdescLeft">&#160;</td><td class="mdescRight">\( \sum_{i=0}^{F-1}\Phi(F,i+1)B_i \)  <a href="#a60ecd7d928ffc1ce55390aa33d076577">More...</a><br /></td></tr>
<tr class="separator:a60ecd7d928ffc1ce55390aa33d076577"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46540fb3f78da79ec55b2bc96eba147e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="a01580.html#a3f685436fab11fa264d9444a25b4fdcf">Vector2</a>, Eigen::aligned_allocator&lt; <a class="el" href="a01580.html#a3f685436fab11fa264d9444a25b4fdcf">Vector2</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a46540fb3f78da79ec55b2bc96eba147e">m_X</a></td></tr>
<tr class="memdesc:a46540fb3f78da79ec55b2bc96eba147e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generated trajectory for the CoM (position, velocity)  <a href="#a46540fb3f78da79ec55b2bc96eba147e">More...</a><br /></td></tr>
<tr class="separator:a46540fb3f78da79ec55b2bc96eba147e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6982c89d9f0e353c99e579b25098bb6"><td class="memItemLeft" align="right" valign="top">Eigen::VectorXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#ad6982c89d9f0e353c99e579b25098bb6">m_p_ref</a></td></tr>
<tr class="memdesc:ad6982c89d9f0e353c99e579b25098bb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">\( [u_0,...,u_M] \)  <a href="#ad6982c89d9f0e353c99e579b25098bb6">More...</a><br /></td></tr>
<tr class="separator:ad6982c89d9f0e353c99e579b25098bb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d3112ea6d7338498af37ca939d19180"><td class="memItemLeft" align="right" valign="top">Eigen::VectorXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a8d3112ea6d7338498af37ca939d19180">m_w2</a></td></tr>
<tr class="memdesc:a8d3112ea6d7338498af37ca939d19180"><td class="mdescLeft">&#160;</td><td class="mdescRight">\( \omega_k^2 \)  <a href="#a8d3112ea6d7338498af37ca939d19180">More...</a><br /></td></tr>
<tr class="separator:a8d3112ea6d7338498af37ca939d19180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8664017837658b6e0f759cf44bfd9030"><td class="memItemLeft" align="right" valign="top">Eigen::VectorXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a8664017837658b6e0f759cf44bfd9030">m_w</a></td></tr>
<tr class="memdesc:a8664017837658b6e0f759cf44bfd9030"><td class="mdescLeft">&#160;</td><td class="mdescRight">\( \omega \)  <a href="#a8664017837658b6e0f759cf44bfd9030">More...</a><br /></td></tr>
<tr class="separator:a8664017837658b6e0f759cf44bfd9030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Lookup tables for optimized computation of cosh, sinh and sqrt</div></td></tr>
<tr class="memitem:a1302ee5580c5e867ed2b5a9b8ee3e483"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01596.html">LookupTable</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a1302ee5580c5e867ed2b5a9b8ee3e483">wTable_</a></td></tr>
<tr class="memdesc:a1302ee5580c5e867ed2b5a9b8ee3e483"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre-computed table from \( \omega^2 \rightarrow sqrt(\omega^2) \).  <a href="#a1302ee5580c5e867ed2b5a9b8ee3e483">More...</a><br /></td></tr>
<tr class="separator:a1302ee5580c5e867ed2b5a9b8ee3e483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a124e7cb9ae69c984acf3b79c13737ea8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01596.html">LookupTable</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#a124e7cb9ae69c984acf3b79c13737ea8">chkTable_</a></td></tr>
<tr class="memdesc:a124e7cb9ae69c984acf3b79c13737ea8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre-computed table from \( \omega^2 \rightarrow cosh(sqrt(\omega^2) * dt) \).  <a href="#a124e7cb9ae69c984acf3b79c13737ea8">More...</a><br /></td></tr>
<tr class="separator:a124e7cb9ae69c984acf3b79c13737ea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8453bfc9d84353dbcd078938fe8d6c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01596.html">LookupTable</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01580.html#af8453bfc9d84353dbcd078938fe8d6c0">shkTable_</a></td></tr>
<tr class="memdesc:af8453bfc9d84353dbcd078938fe8d6c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre-computed table from \( \omega^2 \rightarrow sinh(sqrt(\omega^2) * dt) \).  <a href="#af8453bfc9d84353dbcd078938fe8d6c0">More...</a><br /></td></tr>
<tr class="separator:af8453bfc9d84353dbcd078938fe8d6c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Reference CoM position and velocity trajectory generation. </p>
<p>Implementation of the Linear Time-Varying System (LTVS) introduced in Sec III.A of:</p>
<p><b>Online 3D CoM Trajectory Generation for Multi-Contact Locomotion Synchronizing Contact</b>, <em>Mitsuharu Morisawa et al., IROS 2018</em></p>
<p>Computes the horizontal long-term trajectory of the CoM along either sagittal or frontal plane.</p>
<p>The discretized system of the centroidal dynamics in the sagital plane is obtained as</p>
<p class="formulaDsp">
\[ x_{k+1} = A_k x_k + B_k u_k \]
</p>
<p>where</p>
<ul>
<li><p class="formulaDsp">
\[A_k = \begin{bmatrix} cosh(\omega_k\delta T) &amp; \frac{sinh(\omega_k\delta T)}{\omega_k} \\ \omega_k sinh(\omega_k\delta T) &amp; cosh(\omega_k \delta T) \end{bmatrix} \]
</p>
</li>
<li>CoM state position/velocity along the sagital plane <p class="formulaDsp">
\[ x_k = [x_{G,k}, \dot{x}_{G,k}] \]
</p>
</li>
<li><p class="formulaDsp">
\[ B_k = \begin{bmatrix} 1- cosh(\omega_k\delta T) \\ - \omega_k sinh(\omega_k\delta T) \end{bmatrix} \]
</p>
</li>
<li>Desired Centroidal Momentum Pivot (CMP) [equivalent to the ZMP]. \( L \) is the number of contact links. <p class="formulaDsp">
\[ u_k = \sum^L_{i=1} \alpha_{z_i,k}p_{x_i,k} - \frac{\sigma_{y,k}}{m(g+\ddot{z}_{G,k})} \]
</p>
</li>
<li><p class="formulaDsp">
\[ \omega_k = \sqrt{\frac{g+\ddot{z}_{G,k}}{z_{G,k}-\sum_{i=1}^{L}\alpha_{x-i,k}p_{z_i,l}}} \]
</p>
</li>
</ul>
<p>This system is used to compute the reference position and velocity of the CoM for a preview window:</p><ul>
<li>of size \( N_p = 2*N+1 \) centered around the current time \( [-N,\mbox{current},N] \)</li>
<li>this is represented internally by arrays indexed from \( [0...M] \) with \( M = 2*N \) with the current time being at index \( N \)</li>
</ul>
<p><b>Expects the following to be defined externally</b>:</p><ul>
<li>\( [\omega^2_0...\omega_M^2] \) defined by <a class="el" href="a01580.html#a32e54cb2b655774f117c7a35ce65424a" title="Squared values of  along the preview time: . ">w2()</a></li>
<li>Desired CMP trajectory: \( [u_0...u_M] \) defined by <a class="el" href="a01580.html#aaaa9229d0d48a4ce5b3298da9199d4bb" title="Reference CMP along the trajectory . ">p_ref()</a></li>
</ul>
<p>The CoM state \( x_F \) after the F-th future step is</p>
<p class="formulaDsp">
\[ x_F = \Phi(F,0)x_0 + \sum_{i=0}^{F-1}\Phi(F,i+1)B_i u_i \]
</p>
<p>where</p>
<p class="formulaDsp">
\[ \Phi(k,j) = \left\{ \begin{array}{ll} A_{k-1}A_{k-2}...A_j &amp;\mbox{if } k&gt;j \\ I_2 &amp; \mbox{otherwise }(k=j=F) \end{array} \right. \]
</p>
<p>Those are computed by <a class="el" href="a01580.html#a5d2fc8bd8439d82b712f56fd0e1848c6" title="Computes the reference CoM state online (position and velocity) ">update()</a> as m_An, m_Bn, and the corresponding trajectory as m_X </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="af8f721030036eaf37bda9d2116f0a08d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8f721030036eaf37bda9d2116f0a08d">&#9670;&nbsp;</a></span>Matrix22</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="a01580.html#af8f721030036eaf37bda9d2116f0a08d">mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::Matrix22</a> =  Eigen::Matrix&lt;double, 2, 2&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3f685436fab11fa264d9444a25b4fdcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f685436fab11fa264d9444a25b4fdcf">&#9670;&nbsp;</a></span>Vector2</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="a01580.html#a3f685436fab11fa264d9444a25b4fdcf">mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::Vector2</a> =  Eigen::Matrix&lt;double, 2, 1&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9ff8694223841eb44de2058bdc8e07be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ff8694223841eb44de2058bdc8e07be">&#9670;&nbsp;</a></span>LinearTimeVariantInvertedPendulum() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EIGEN_MAKE_ALIGNED_OPERATOR_NEW mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::LinearTimeVariantInvertedPendulum </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4a047d06a6a02227dab3c0778c4ec738"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a047d06a6a02227dab3c0778c4ec738">&#9670;&nbsp;</a></span>LinearTimeVariantInvertedPendulum() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::LinearTimeVariantInvertedPendulum </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>n_preview</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>weight_resolution</em> = <code>20000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>minHeight</em> = <code>0.01</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>maxHeight</em> = <code>2.5</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialization. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dt</td><td>Timestep </td></tr>
    <tr><td class="paramname">n_preview</td><td>Number of future preview elements. The full size of the preview windows from past to future will be (2*n_preview+1) </td></tr>
    <tr><td class="paramname">minHeight</td><td>for the pendulum (used for <a class="el" href="a01596.html" title="Stores precomputed values of a function for fast lookup. ">LookupTable</a> optimizations) </td></tr>
    <tr><td class="paramname">maxHeight</td><td>for the pendulum </td></tr>
    <tr><td class="paramname">weight_resolution</td><td>Number of data points to pre-compute for \( \omega, cosh(\omega), sinh(\omega) \) for height in a given range [minHeight, maxHeight]. This is used to optimize the otherwise costly computation of these constants. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a45a506558787353a67a900c6518f894c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45a506558787353a67a900c6518f894c">&#9670;&nbsp;</a></span>~LinearTimeVariantInvertedPendulum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::~LinearTimeVariantInvertedPendulum </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a5d3ebd9ea8d67d62d539e1452d4506ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d3ebd9ea8d67d62d539e1452d4506ab">&#9670;&nbsp;</a></span>generate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::generate </td>
          <td>(</td>
          <td class="paramtype">Eigen::VectorXd &amp;&#160;</td>
          <td class="paramname"><em>cog_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::VectorXd &amp;&#160;</td>
          <td class="paramname"><em>cog_vel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::VectorXd &amp;&#160;</td>
          <td class="paramname"><em>cog_acc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::VectorXd &amp;&#160;</td>
          <td class="paramname"><em>p_ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate full trajectory (only used for tests) </p>

</div>
</div>
<a id="ab84d807b96e903d5be87c6042c265979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab84d807b96e903d5be87c6042c265979">&#9670;&nbsp;</a></span>getState() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01584.html">State</a> mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::getState </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_time</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get generated CoG/ZMP states. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n_time</td><td>is the time in range of[-n_preview:n_preview], current time is 0 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac90eeaee06cf9c343222eb7eb8b6a43a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac90eeaee06cf9c343222eb7eb8b6a43a">&#9670;&nbsp;</a></span>getState() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::getState </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>cog_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>cog_vel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>cog_acc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>pdot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>to get generated CoG/ZMP states </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n_time</td><td>is the time in range of[-n_preview:n_preview], current time is 0 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cog_pos</td><td>is position of COG </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cog_vel</td><td>is velocity of COG </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cog_acc</td><td>is acceleration of COG </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>is position of ZMP </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pdot</td><td>is velocity of ZMP </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3e8f7c6aea4f0ad0627cad4598d1de85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e8f7c6aea4f0ad0627cad4598d1de85">&#9670;&nbsp;</a></span>Initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::Initialize </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>n_preview</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>weight_resolution</em> = <code>20000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>minHeight</em> = <code>0.01</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>maxHeight</em> = <code>2.5</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a47aa3c6c55b0d2e3452175ad1127c460"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47aa3c6c55b0d2e3452175ad1127c460">&#9670;&nbsp;</a></span>initMatrices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::initMatrices </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>waist_height</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the discretized system matrices with constant pendulum height Pre-computed table from . </p>
<p>Initalizes \( A_k \), \( B_k \)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">waist_height</td><td><a class="el" href="a01600.html" title="State of the inverted pendulum model. ">Pendulum</a> height (constant over the preview window) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaaa9229d0d48a4ce5b3298da9199d4bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaa9229d0d48a4ce5b3298da9199d4bb">&#9670;&nbsp;</a></span>p_ref() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::VectorXd&amp; mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::p_ref </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reference CMP along the trajectory \( [u_0..u_M] \). </p>
<dl class="section return"><dt>Returns</dt><dd>Reference to the CMP array </dd></dl>

</div>
</div>
<a id="a805b02627f193b596d43c6de3420d196"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a805b02627f193b596d43c6de3420d196">&#9670;&nbsp;</a></span>p_ref() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::p_ref </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>k</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Value of \( u_k \). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">k</td><td>Index of the value in range \( [0, M] \) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5d2fc8bd8439d82b712f56fd0e1848c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d2fc8bd8439d82b712f56fd0e1848c6">&#9670;&nbsp;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the reference CoM state online (position and velocity) </p>
<p>Fills m_A, m_B, m_An, m_Bn, m_X Requires <a class="el" href="a01580.html#aaaa9229d0d48a4ce5b3298da9199d4bb" title="Reference CMP along the trajectory . ">p_ref()</a> and <a class="el" href="a01580.html#a32e54cb2b655774f117c7a35ce65424a" title="Squared values of  along the preview time: . ">w2()</a> to be filled first. </p>

</div>
</div>
<a id="ae1deee5bc5016ab978874dd423968c39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1deee5bc5016ab978874dd423968c39">&#9670;&nbsp;</a></span>w() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const Eigen::VectorXd&amp; mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::w </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4aefe020440bec23336b24e632a0830f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4aefe020440bec23336b24e632a0830f">&#9670;&nbsp;</a></span>w() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::w </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>k</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Value of \( \omega_k \). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">k</td><td>Index of the value in range \( [0, M] \) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a32e54cb2b655774f117c7a35ce65424a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32e54cb2b655774f117c7a35ce65424a">&#9670;&nbsp;</a></span>w2() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::VectorXd&amp; mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::w2 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Squared values of \( \omega_k \) along the preview time: \( [\omega_0^2 ... \omega_M^2] \). </p>

</div>
</div>
<a id="a74e38a54de2bb643ff4b0eb1caee9326"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74e38a54de2bb643ff4b0eb1caee9326">&#9670;&nbsp;</a></span>w2() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double&amp; mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::w2 </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>k</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Value of \( \omega_k^2 \). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">k</td><td>Index of the value in range \( [0, M] \) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a124e7cb9ae69c984acf3b79c13737ea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a124e7cb9ae69c984acf3b79c13737ea8">&#9670;&nbsp;</a></span>chkTable_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01596.html">LookupTable</a>&lt;double&gt; mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::chkTable_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pre-computed table from \( \omega^2 \rightarrow cosh(sqrt(\omega^2) * dt) \). </p>

</div>
</div>
<a id="a2b01bb5cafce26b7596ef97b36584233"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b01bb5cafce26b7596ef97b36584233">&#9670;&nbsp;</a></span>m_A</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::circular_buffer&lt;<a class="el" href="a01580.html#af8f721030036eaf37bda9d2116f0a08d">Matrix22</a>, Eigen::aligned_allocator&lt;<a class="el" href="a01580.html#af8f721030036eaf37bda9d2116f0a08d">Matrix22</a>&gt; &gt; mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::m_A</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>\( A_k \) </p>

</div>
</div>
<a id="ac9ea04485d7ee4ce45999a165c2dee06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9ea04485d7ee4ce45999a165c2dee06">&#9670;&nbsp;</a></span>m_An</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="a01580.html#af8f721030036eaf37bda9d2116f0a08d">Matrix22</a>, Eigen::aligned_allocator&lt;<a class="el" href="a01580.html#af8f721030036eaf37bda9d2116f0a08d">Matrix22</a>&gt; &gt; mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::m_An</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>\( \Phi(k, j) \) </p>

</div>
</div>
<a id="ac8121e1be72344e73db0512b7331a321"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8121e1be72344e73db0512b7331a321">&#9670;&nbsp;</a></span>m_B</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::circular_buffer&lt;<a class="el" href="a01580.html#a3f685436fab11fa264d9444a25b4fdcf">Vector2</a>, Eigen::aligned_allocator&lt;<a class="el" href="a01580.html#a3f685436fab11fa264d9444a25b4fdcf">Vector2</a>&gt; &gt; mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::m_B</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>\( B_k \) </p>

</div>
</div>
<a id="a60ecd7d928ffc1ce55390aa33d076577"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60ecd7d928ffc1ce55390aa33d076577">&#9670;&nbsp;</a></span>m_Bn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="a01580.html#a3f685436fab11fa264d9444a25b4fdcf">Vector2</a>, Eigen::aligned_allocator&lt;<a class="el" href="a01580.html#a3f685436fab11fa264d9444a25b4fdcf">Vector2</a>&gt; &gt; mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::m_Bn</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>\( \sum_{i=0}^{F-1}\Phi(F,i+1)B_i \) </p>

</div>
</div>
<a id="a0d7d6b065bfa69d029309b718d985ee2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d7d6b065bfa69d029309b718d985ee2">&#9670;&nbsp;</a></span>m_dt</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::m_dt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Timstep. </p>

</div>
</div>
<a id="a2d895679ff0471b72e15524364322a40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d895679ff0471b72e15524364322a40">&#9670;&nbsp;</a></span>m_n_current</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::m_n_current</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Index of current time (center of the preview window) </p>

</div>
</div>
<a id="ad727890e6903bf8c6aab5873a6afb17c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad727890e6903bf8c6aab5873a6afb17c">&#9670;&nbsp;</a></span>m_n_preview2</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::m_n_preview2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Preview window size \( (2*\mbox{m_n_current})+1 \). </p>

</div>
</div>
<a id="ad6982c89d9f0e353c99e579b25098bb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6982c89d9f0e353c99e579b25098bb6">&#9670;&nbsp;</a></span>m_p_ref</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::VectorXd mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::m_p_ref</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>\( [u_0,...,u_M] \) </p>

</div>
</div>
<a id="a8664017837658b6e0f759cf44bfd9030"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8664017837658b6e0f759cf44bfd9030">&#9670;&nbsp;</a></span>m_w</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::VectorXd mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::m_w</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>\( \omega \) </p>

</div>
</div>
<a id="a8d3112ea6d7338498af37ca939d19180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d3112ea6d7338498af37ca939d19180">&#9670;&nbsp;</a></span>m_w2</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::VectorXd mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::m_w2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>\( \omega_k^2 \) </p>

</div>
</div>
<a id="a46540fb3f78da79ec55b2bc96eba147e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46540fb3f78da79ec55b2bc96eba147e">&#9670;&nbsp;</a></span>m_X</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="a01580.html#a3f685436fab11fa264d9444a25b4fdcf">Vector2</a>, Eigen::aligned_allocator&lt;<a class="el" href="a01580.html#a3f685436fab11fa264d9444a25b4fdcf">Vector2</a>&gt; &gt; mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::m_X</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generated trajectory for the CoM (position, velocity) </p>

</div>
</div>
<a id="af8453bfc9d84353dbcd078938fe8d6c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8453bfc9d84353dbcd078938fe8d6c0">&#9670;&nbsp;</a></span>shkTable_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01596.html">LookupTable</a>&lt;double&gt; mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::shkTable_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pre-computed table from \( \omega^2 \rightarrow sinh(sqrt(\omega^2) * dt) \). </p>

</div>
</div>
<a id="a1302ee5580c5e867ed2b5a9b8ee3e483"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1302ee5580c5e867ed2b5a9b8ee3e483">&#9670;&nbsp;</a></span>wTable_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01596.html">LookupTable</a>&lt;double&gt; mc_planning::linear_control_system::LinearTimeVariantInvertedPendulum::wTable_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pre-computed table from \( \omega^2 \rightarrow sqrt(\omega^2) \). </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a00770.html">mc_planning</a></li><li class="navelem"><a class="el" href="a00772.html">linear_control_system</a></li><li class="navelem"><a class="el" href="a01580.html">LinearTimeVariantInvertedPendulum</a></li>
    <li class="footer">Generated on Tue Jun 16 2020 03:28:02 for mc_rtc by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
